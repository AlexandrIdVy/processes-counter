# Счетчик процессов

<div align="center">
<img src="https://github.com/AlexandrIdVy/processes-counter/blob/master/demo.png">
 
</div>

* **[Назначение](#target)**

* **[Функции](#functions)**

* **[Как работать с программой](#how-to-work)**

* **[Принцип работы](#work)**

* **[Технологии в проекте](#technologies)**

---

## <a name="target"></a> Назначение

Программа предназначена для визуального отображения количества оставшихся технологических процессов до проведения регламентных работ на производственном оборудовании, а также для ведения учета количества проведенных технологических процессов.

## <a name="functions"></a> Функции

* Отображение количества технологических процессов до проведения регламентных работ.
* Индикация при достижении определенных минимальных значений.
* Сброс/изменение отображения количества технологических процессов до проведения регламентных работ.
* Отображение общего количества проведенных технологических процессов.
* Сохранение количества проведенных процессов в отдельный файл в формате: 
 
<div align="center">
<img src="https://github.com/AlexandrIdVy/processes-counter/blob/master/log.png">
</div>

* Сохранение общего количества проведенных процессов в отдельный файл.
* Возможность подсчета только определенных технологических процессов.
* Возможность изменения максимального количества технологических процессов для обратного отсчета.
* Возможность изменения временного интервала, за который не нужно учитывать технологический процесс. 
* Возможность изменения названия и координат положения окна на экране при запуске. 

## <a name="how-to-work"></a> Как работать с программой

<div align="center">
<img src="https://github.com/AlexandrIdVy/processes-counter/blob/master/FindProcess.gif">
</div>

Записываем название, которое будет отображаться в программе и координаты положения окна на экране при запуске. Далее записываем названия технологических процессов, которые нужно считать, например:

Покраска

Запекание

Сушка

ВАЖНО! Каждый технологический процесс должен начинаться с новой строки. 

Задаем максимальное количество технологических процессов. Добавляем программу в автозапуск. Если все сделали правильно, то при каждом запуске windows программа будет запускаться автоматически и отображать количество процессов. 

Когда в окне программы «Процессов до профилактики» отображается 0, соответственно пришло время проведения регламентных работ. Как только регламентные работы были сделаны необходимо «сбросить счетчик», это делается вручную двойным кликом мыши по окну 

«Процессов до профилактики», появляются три кнопки:

«Сбросить» - сбрасывает значение до указанного максимального количества.

«Изменить» - дает возможность установить свое значение, но не более указанного максимального количества.

«Отмена» - если передумали что-то менять.

## <a name="work"></a> Принцип работы

Программа работает с файлами, которые создаются управляющей программой автоматизированного технологического оборудования. 

В данном случае управляющая программа технологического оборудования, условно назовем ее «Программа А», при запуске создает папку с текущей датой далее в этой папке создаются папки с названиями технологических процессов, по мере запусков технологических процессов, а в них создается файл с логом, в котором пишутся все процесса от начала запуска программы до окончания текущего процесса. 

Таким образом, программа ищет по указанному пути папку по последней созданной дате в названии, заходит в нее и находит папку по последнему созданному времени, если папка существует заходит в нее и ищет нужный лог-файл, если файл существует читает его и при нахождении указанных процессов суммирует их, сохраняет и вычитает от текущего значения, результат отображается в окнах «Процессов до профилактики» и «Проведено процессов за все время».

## <a name="technologies"></a> Технологии в проекте

* Метод Directory.GetDirectories
* Метод DateTime.ParseExact 
* Метод File.ReadAllLines 
* Метод File.WriteAllText 
* Структура TimeSpan 
* Класс Convert 
* Списки, циклы, условные конструкции
